%\subsection{General supercycle violation condition}

We formalize violation of string connectedness (Condition~(\ref{conditions:no-strongly-connected} above)
as follows.

\begin{definition}[Strong connectedness violation, $\connViol{v}{t}$]
\label{def:sConn.violation}
 Let $v$ be a node of $\wfg{\B}{t}$.   Then $\connViol{v}{t}$ holds iff there does not exist a 
strongly connected supercycle $\SSC$ such that $v \in \SSC$ and $\SSC \subg \wfg{B}{t}$.
\end{definition}



The general supercycle violation condition is then a disjunction of the supercycle violation condition
and the strong connectedness violation conditions.


\begin{definition}[General supercycle violation, $\genViol{v}{t}$]
\label{def:formation.violation} 
\label{defn:formation.violation} 
Let $v$ be a node of $\wfg{\B}{t}$.
Then 
$\genViol{v}{t}  \df \scV{v}{t}  \lor \connViol{v}{t}$.
%$\genViol{v}{t}  \df (\exs d \ge 1: \scViol{v}{d}{t}) \lor \connViol{v}{t}$.
\end{definition}
%
Let $s \goesto[\act] t$ be a reachable transition. If, for every $\B_i \in \cmps{\act}$, $\formViol{v}{t}$ holds, then, as we show below,
$s \goesto[\act] t$ does not introduce a supercycle, \ie if $s$ is supercycle-free, then so is $t$. As stated above, we formulate below a ``local''
version of the general condition, which can be evaluated in ``small subsystems'', and so we often avoid state-explosion.
%
% THIS IS GIVEN IN PREVIOUS SECTION
% However, evaluating this condition over all global transitions is subject to state explosion, and so we formulate below a ``local'' version of the
% general condition, which can be evaluated in ``small subsystems'', and so we often avoid state-explosion. Hence the advantage of the local versions is
% that they are usually efficiently computable, as we show in the sequel.  We also formulate a ``linear'' condition (both global and local), which is
% simpler (but ``more incomplete'') than the general condition, and so is easier to evaluate.
%
% THIS IS GIVEN IN PREVIOUS SECTION, WITHOUT THE FORMALISM
We reitrate that $\scV{v}{t}$ implies that $v$ cannot be in a supercycle. Hence, $v$ cannot be in a strongly-connected supercycle.
Hence $\scV{v}{t} \imp \connViol{v}{t}$, so that 
$\scV{v}{t}  \lor \connViol{v}{t} \ev  \connViol{v}{t}$.
We give the formation violation condition in this manner, since 
the implication does not necessarily hold for the local versions of $\scV{v}{t}$ and $\connViol{v}{t}$



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This discussion leads to the formal definition of $\GAO$: 
after execution of interaction $\act$, all $\B_i \in \cmps{\act}$ exhibit a general supercycle-violation, as given by $\genViol{\B_i}{t}$ above.

\begin{definition}[$\GAO(\B, Q_0, \act)$] \label{def:global.ANDOR-cond} \label{defn:global.ANDOR-cond} 
Let $s \goesto[\act] t$ be a reachable transition of $(\B, Q_0)$.
Then, in $t$, the following holds. 
For every component $\B_i \in \comps{\act}$, %$\B_i$ has a level-$d$ $SC$-violation for some $d$.
the formation violation condition holds.
Formally,\\
\ind  $\fas \B_i \in \comps{\act}, \genViol{\B_i}{t}$.
\end{definition}


\begin{theorem} \label{thm:GAO.SC-free-preserving}
$\GAO$ is supercycle-freedom preserving.
\end{theorem}
%
\begin{proof}
We establish:
for every reachable transition $s \la{\act} t$,
$\wfg{\B}{s}$ is supercycle-free implies that $\wfg{\B}{t}$ is
supercycle-free. Our proof is by contradiction, so we assume the existence of a reachable transition
$s \la{\act} t$ such that $\wfg{\B}{s}$ is supercycle-free and $\wfg{\B}{t}$ contains a supercycle.

By Proposition~\ref{prop:supercycle-formation}
 there exists a component $\B_i \in \cmps{\act}$ such that $\B_i$ is in $\CC$, where 
$\CC$ is a strongly connected supercycle that is a subgraph of $\wfg{\B}{t}$.

Since $\CC$ is a strongly connected supercycle, we have,
 by Definition~\ref{def:sConn.violation}, that $\neg \connViol{\B_i}{t}$ holds.

Since $\CC$ is a supercycle, we have, by Proposition~\ref{prop:scViol-iff-notInSC}, 
that $\neg \scV{B_i}{t}$ holds. %$\neg (\exs d \ge 1: \scViol{\B_i}{d}{t})$ holds.

Hence, by Definition~\ref{def:formation.violation}, $\neg \formViol{\B_i}{t}$.
But, by Definition~\ref{def:global.ANDOR-cond}, we have $\formViol{\B_i}{t}$.
Hence, we have the desired contradiction, and so the theorem holds.
\end{proof}


