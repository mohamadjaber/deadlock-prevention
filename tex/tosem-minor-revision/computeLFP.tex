


\newcommand{\fpt}{\mathit{fixpoint}}
\newcommand{\VLA}[5]{\ensuremath{\MATHIDN{V_{\dsk{#1}{#2},#3} [#4 #5]}}}    %sc violations array, #1 is a, #2 is \l, #3 is t_a, #4 is v, #5 is d
                                                                        % i.e., \VV{a}{\l}{t_a}{v}{d}

\begin{figure}[H]
\setcounter{lctr}{0}
\begin{tabbing}\label{alg:compute-lfp}
aa\= aa\= aa\= aa\= aa\=\kill
\cLFP{$\dsk{\act}{\l},t_\act$}\\
\cmnt\ compute least fixpoint of $\lVF$ in state $t_\act$ of $\dsk{\act}{\l}$\\
\cmnt\ Precondition: $\fas v \in \dsk{\act}{\l}: V[v] = \fff$ \\
\cmnt\ Postcondition: $\fas v \in \dsk{\act}{\l}: V[v]$ 
$ =
  \begin{cases}
    \ttt     & \quad \text{if }  v \in \lVFs^{d} (\ewfg)\\
    \fff     & \quad \text{otherwise}\\
  \end{cases}
$
\\
\lio{\fpt \gts \fff} 
\lio{\WHILE~\neg \fpt}
   \lit{\fpt \gts \ttt} 
   \lit{\FORALLC{v \in \dsk{\act}{\l} \land \neg V[v] }}
      \lih{\IFC{\mbox{$v$ is an interior interaction $\actp$ and } 
                          \neg (\ex \B_i : \actp \ar \B_i \in \wfg{\dsk{\act}{\l}}{t_\act})}}
          \lifc{ V[v] \gts \ttt}{\cmnt interaction with no outgoing wait-for-edges}  
          \lif{\fpt \gts \fff} 
     \lih{\ELSFC{\mbox{$v$ is an interior interaction $\actp$ and } 
     (\fa \B_i : \actp \ar \B_i \in \wfg{\dsk{\act}{\l}}{t_\act} :  V[B_i] )}}
                  \lif{ V[v] \gts \ttt}
                  \lif{\fpt \gts \fff} 
     \lih{\ELSFC{\mbox{$v$ is a component $\B_i$ and }
     (\ex \actp : \B_i \ar \actp \in \wfg{\dsk{\act}{\l}}{t_\act} : V[\actp] )}}
                  \lif{ V[v] \gts \ttt}
                  \lif{\fpt \gts \fff} 
    \lih{\FI}
  \lit{\ENDFOR}
\lio{\ENDWHILE} 
\lion{\RETURNE{V}}
\end{tabbing}
\vspace{-3ex}
\caption{Procedure to compute all supercycle-violations in state $t_\act$ of $\dsk{\act}{\l}$}
\label{fig:algcomputeLFP}
\end{figure}

